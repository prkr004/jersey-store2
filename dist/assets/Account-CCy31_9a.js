import{j as e,N,R as P,q as f,e as w,M as S,n as L,h as C,r as d,o as E}from"./index-CwiwxR1t.js";import{c as A}from"./format-Dd0aQ-Sh.js";function z(){return e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsx("h1",{className:"font-display text-4xl",children:"Your Account"}),e.jsxs("div",{className:"mt-6 grid lg:grid-cols-3 gap-8",children:[e.jsx("aside",{className:"rounded-2xl border border-slate-200/60 dark:border-slate-800 p-4",children:e.jsxs("nav",{className:"space-y-1",children:[e.jsx(N,{to:"",end:!0,className:k,children:"Profile"}),e.jsx(N,{to:"orders",className:k,children:"Orders"}),e.jsx(N,{to:"login",className:k,children:"Login"}),e.jsx(N,{to:"signup",className:k,children:"Sign Up"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"rounded-2xl border border-slate-200/60 dark:border-slate-800 p-6",children:e.jsxs(P,{children:[e.jsx(f,{index:!0,element:e.jsx(q,{})}),e.jsx(f,{path:"orders",element:e.jsx(O,{})}),e.jsx(f,{path:"login",element:e.jsx(T,{})}),e.jsx(f,{path:"signup",element:e.jsx(R,{})})]})})})]})]})}function k({isActive:a}){return`block rounded-lg px-3 py-2 ${a?"bg-brand-500/10 text-brand-700 dark:text-brand-300":"hover:bg-slate-100 dark:hover:bg-slate-800"}`}function q(){const{user:a,signOut:s}=w();return a?e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl",children:"Profile"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:["Signed in as ",a.email]}),e.jsx("div",{className:"mt-4",children:e.jsx(S,{variant:"outline",onClick:()=>s(),children:"Sign Out"})})]}):e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"You are not signed in."})}function O(){const{orders:a}=L();return C(),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"font-semibold text-xl",children:"Your Orders"}),a.length===0?e.jsx("div",{className:"rounded-xl border border-slate-200/60 dark:border-slate-800 p-6 text-sm text-slate-600 dark:text-slate-400",children:"No orders yet this session. After you checkout, they will appear here."}):e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"rounded-xl border border-slate-200/60 dark:border-slate-800 overflow-hidden",children:[e.jsxs("div",{className:"p-4 sm:p-5 bg-slate-50 dark:bg-slate-900/40 flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:"Order"}),e.jsx("div",{className:"font-mono text-sm font-semibold",children:s.id})]}),e.jsxs("div",{className:"sm:ml-6",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:"Placed"}),e.jsx("div",{className:"text-sm",children:new Date(s.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"sm:ml-auto",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:"Total"}),e.jsx("div",{className:"text-sm font-semibold",children:A(s.totals.total)})]}),e.jsx("div",{children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-[11px] font-medium border border-slate-300 dark:border-slate-700",children:s.status})})]}),e.jsx("div",{className:"divide-y divide-slate-200/60 dark:divide-slate-800",children:s.items.map((t,o)=>{var l;return e.jsxs("div",{className:"p-4 sm:p-5 flex items-center gap-3 text-sm",children:[e.jsx("img",{src:(l=t.images)==null?void 0:l[0],onError:x=>{var n,c;x.currentTarget.src=((n=t.images)==null?void 0:n[1])||((c=t.images)==null?void 0:c[0])},alt:t.name,className:"w-14 h-14 rounded-lg object-cover border border-slate-200/60 dark:border-slate-800"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:t.name}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Size ",t.size," • Qty ",t.qty]})]}),e.jsx("div",{className:"font-medium",children:A(t.price*t.qty)})]},o)})}),e.jsxs("div",{className:"p-4 sm:p-5 text-xs text-slate-600 dark:text-slate-400 flex flex-wrap gap-3",children:[e.jsxs("div",{children:["Payment: ",s.payment.method," • ",s.payment.status]}),e.jsxs("div",{children:["Ship to: ",s.shipping.name,", ",s.shipping.city," ",s.shipping.postalCode]})]})]},s.id))})]})}function T(){var j,b;const{signIn:a,user:s}=w(),[t,o]=d.useState(""),[l,x]=d.useState(""),[n,c]=d.useState(null),[m,u]=d.useState(!1),p=E(),h=C(),i=((j=p.state)==null?void 0:j.returnTo)||"/account",g=(b=p.state)==null?void 0:b.message;if(s)return i!=="/account"?(h(i,{replace:!0}),null):e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Already signed in."});async function y(r){r.preventDefault(),u(!0);const{error:v}=await a(t,l);v?c(v):h(i,{replace:!0}),u(!1)}return e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl",children:"Login"}),g&&e.jsx("div",{className:"mt-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 text-sm text-blue-700 dark:text-blue-300",children:g}),e.jsxs("form",{onSubmit:y,className:"grid gap-4 mt-4",children:[e.jsx("input",{value:t,onChange:r=>o(r.target.value),placeholder:"Email",type:"email",required:!0,className:"rounded-xl bg-slate-100 dark:bg-slate-900 px-4 py-2"}),e.jsx("input",{value:l,onChange:r=>x(r.target.value),placeholder:"Password",type:"password",required:!0,className:"rounded-xl bg-slate-100 dark:bg-slate-900 px-4 py-2"}),n&&e.jsx("div",{className:"text-sm text-red-600",children:n}),e.jsx(S,{disabled:m,children:m?"Signing in...":"Sign In"})]})]})}function R(){var j,b;const{signUp:a,user:s}=w(),[t,o]=d.useState(""),[l,x]=d.useState(""),[n,c]=d.useState(null),[m,u]=d.useState(!1),p=E(),h=C(),i=((j=p.state)==null?void 0:j.returnTo)||"/account",g=(b=p.state)==null?void 0:b.message;if(s)return i!=="/account"?(h(i,{replace:!0}),null):e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Already signed in."});async function y(r){r.preventDefault(),u(!0);const{error:v}=await a(t,l);v?c(v):h(i,{replace:!0}),u(!1)}return e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-xl",children:"Create Account"}),g&&e.jsx("div",{className:"mt-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 text-sm text-blue-700 dark:text-blue-300",children:g}),e.jsxs("form",{onSubmit:y,className:"grid gap-4 mt-4",children:[e.jsx("input",{value:t,onChange:r=>o(r.target.value),placeholder:"Email",type:"email",required:!0,className:"rounded-xl bg-slate-100 dark:bg-slate-900 px-4 py-2"}),e.jsx("input",{value:l,onChange:r=>x(r.target.value),placeholder:"Password",type:"password",required:!0,className:"rounded-xl bg-slate-100 dark:bg-slate-900 px-4 py-2"}),n&&e.jsx("div",{className:"text-sm text-red-600",children:n}),e.jsx(S,{disabled:m,children:m?"Creating...":"Create Account"})]})]})}export{z as default};
