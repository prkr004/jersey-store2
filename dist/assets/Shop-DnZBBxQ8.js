import{u as f,j as e,s as N,M as y,r as u,p as m}from"./index-CEOidj1b.js";import{c as C}from"./format-Dd0aQ-Sh.js";import{P as L}from"./ProductCard-zl0YIk18.js";import{u as P}from"./useProducts-BOPP8-Fk.js";import{g as S,P as j}from"./pricing-C7HRZ8N_.js";function A(){const[s,a]=f(),n=s.get("q")??"",i=s.get("sport")??"",d=1e3,l=3e3,h=Number(s.get("price")??l),c=(r,x)=>{const t=new URLSearchParams(s);x?t.set(r,x):t.delete(r),a(t,{replace:!0})},p=()=>{a(new URLSearchParams,{replace:!0})};return e.jsxs("div",{className:"rounded-2xl border border-slate-200/60 dark:border-slate-800 bg-white dark:bg-slate-900 p-4 flex flex-wrap items-center gap-3",children:[e.jsx("input",{value:n,onChange:r=>c("q",r.target.value),placeholder:"Search",className:"flex-1 min-w-[200px] rounded-xl bg-slate-100 dark:bg-slate-800 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400"}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1",role:"group","aria-label":"Filter by sport",children:[e.jsx(g,{label:"All",active:!i,onClick:()=>c("sport",""),children:e.jsx(k,{})}),N.map(r=>e.jsx(g,{label:r,active:i===r,onClick:()=>c("sport",r),children:e.jsx(B,{sport:r})},r))]})}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("label",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Max Price:"}),e.jsx("input",{"aria-label":"Max price",type:"range",min:d,max:l,step:100,value:h,onChange:r=>c("price",r.target.value)}),e.jsx("span",{className:"text-sm font-medium",children:C(h)})]}),e.jsx(y,{variant:"outline",onClick:p,children:"Clear"})]})}function g({label:s,active:a,onClick:n,children:i}){return e.jsxs("button",{type:"button","aria-pressed":a,onClick:n,title:s,className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm whitespace-nowrap transition-colors ${a?"bg-brand-600 text-white border-brand-600":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200/70 dark:hover:bg-slate-700"}`,children:[e.jsx("span",{className:"shrink-0",children:i}),e.jsx("span",{children:s})]})}function B({sport:s}){switch(s){case"Football":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 7 5 5-5 5"}),e.jsx("path",{d:"m21 7-5 5 5 5"}),e.jsx("path",{d:"M14 7h-4"}),e.jsx("path",{d:"M14 17h-4"})]});case"Basketball":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M2 12h20"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 0 20"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 0 0 20"})]});case"Cricket":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m9 18 6-6"}),e.jsx("path",{d:"m10 7 7 7 3-3-7-7z"}),e.jsx("path",{d:"M3 21h6"})]});case"Baseball":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M19 5c-1.5 2-4 5-7 5s-5.5-3-7-5"}),e.jsx("path",{d:"M5 19c1.5-2 4-5 7-5s5.5 3 7 5"})]});case"Hockey":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 21h6a6 6 0 0 0 6-6V3"}),e.jsx("path",{d:"M22 21h-6a6 6 0 0 1-6-6"})]});default:return e.jsx(k,{})}}function k(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M2 12h20"}),e.jsx("path",{d:"M12 2v20"})]})}function W(){const[s]=f(),a=(s.get("q")??"").toLowerCase(),n=s.get("sport")??"",i=Number(s.get("price")),d=i?Math.min(Math.max(i,j.MIN),j.MAX):1/0,{products:l,loading:h,error:c}=P(),p=u.useMemo(()=>{if(!l)return m;const t=new Map;return[...l,...m].forEach(o=>{t.has(o.id)||t.set(o.id,o)}),Array.from(t.values())},[l]),r=u.useMemo(()=>p.map(t=>({...t,price:S(t.id)})),[p]),x=u.useMemo(()=>r.filter(t=>{const o=t.sport||"Football",b=a?[t.name,t.team,o].some(M=>M.toLowerCase().includes(a)):!0,v=n?o===n:!0,w=isFinite(d)?t.price<=d:!0;return b&&v&&w}),[a,n,d,r]);return e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-4xl",children:"Shop Jerseys"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Find your teamâ€™s colors with pro-grade quality."})]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[x.length," results"]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(A,{})}),c&&e.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Failed to load live products: ",c]}),e.jsxs("div",{className:"mt-6 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[h&&!l&&Array.from({length:8}).map((t,o)=>e.jsx("div",{className:"h-72 rounded-2xl bg-slate-200 dark:bg-slate-800 animate-pulse"},o)),x.map(t=>e.jsx(L,{product:t},t.id))]})]})}export{W as default};
