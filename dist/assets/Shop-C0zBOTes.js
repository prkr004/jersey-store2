import{u as g,j as e,s as N,M,r as u,p as y}from"./index-n5TvDKyA.js";import{c as C}from"./format-Dd0aQ-Sh.js";import{P as L}from"./ProductCard-jiR3qC62.js";import{u as P}from"./useProducts-C2PyU0Ur.js";import{g as S,P as m}from"./pricing-C7HRZ8N_.js";function B(){const[r,a]=g(),o=r.get("q")??"",n=r.get("sport")??"",l=1e3,c=3e3,x=Number(r.get("price")??c),i=(t,d)=>{const s=new URLSearchParams(r);d?s.set(t,d):s.delete(t),a(s,{replace:!0})},p=()=>{a(new URLSearchParams,{replace:!0})};return e.jsxs("div",{className:"rounded-2xl border border-slate-200/60 dark:border-slate-800 bg-white dark:bg-slate-900 p-4 flex flex-wrap items-center gap-3",children:[e.jsx("input",{value:o,onChange:t=>i("q",t.target.value),placeholder:"Search",className:"flex-1 min-w-[200px] rounded-xl bg-slate-100 dark:bg-slate-800 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400"}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1",role:"group","aria-label":"Filter by sport",children:[e.jsx(j,{label:"All",active:!n,onClick:()=>i("sport",""),children:e.jsx(k,{})}),N.map(t=>e.jsx(j,{label:t,active:n===t,onClick:()=>i("sport",t),children:e.jsx(A,{sport:t})},t))]})}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("label",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Max Price:"}),e.jsx("input",{"aria-label":"Max price",type:"range",min:l,max:c,step:100,value:x,onChange:t=>i("price",t.target.value)}),e.jsx("span",{className:"text-sm font-medium",children:C(x)})]}),e.jsx(M,{variant:"outline",onClick:p,children:"Clear"})]})}function j({label:r,active:a,onClick:o,children:n}){return e.jsxs("button",{type:"button","aria-pressed":a,onClick:o,title:r,className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm whitespace-nowrap transition-colors ${a?"bg-brand-600 text-white border-brand-600":"bg-slate-100 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200/70 dark:hover:bg-slate-700"}`,children:[e.jsx("span",{className:"shrink-0",children:n}),e.jsx("span",{children:r})]})}function A({sport:r}){switch(r){case"Football":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 7 5 5-5 5"}),e.jsx("path",{d:"m21 7-5 5 5 5"}),e.jsx("path",{d:"M14 7h-4"}),e.jsx("path",{d:"M14 17h-4"})]});case"Basketball":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M2 12h20"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 0 20"}),e.jsx("path",{d:"M12 2a15.3 15.3 0 0 0 0 20"})]});case"Cricket":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m9 18 6-6"}),e.jsx("path",{d:"m10 7 7 7 3-3-7-7z"}),e.jsx("path",{d:"M3 21h6"})]});case"Baseball":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M19 5c-1.5 2-4 5-7 5s-5.5-3-7-5"}),e.jsx("path",{d:"M5 19c1.5-2 4-5 7-5s5.5 3 7 5"})]});case"Hockey":return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M2 21h6a6 6 0 0 0 6-6V3"}),e.jsx("path",{d:"M22 21h-6a6 6 0 0 1-6-6"})]});default:return e.jsx(k,{})}}function k(){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M2 12h20"}),e.jsx("path",{d:"M12 2v20"})]})}function W(){const[r]=g(),a=(r.get("q")??"").toLowerCase(),o=r.get("sport")??"",n=Number(r.get("price")),l=n?Math.min(Math.max(n,m.MIN),m.MAX):1/0,{products:c,loading:x,error:i}=P(),p=c??y,t=u.useMemo(()=>p.map(s=>({...s,price:S(s.id)})),[p]),d=u.useMemo(()=>t.filter(s=>{const h=s.sport||"Football",f=a?[s.name,s.team,h].some(w=>w.toLowerCase().includes(a)):!0,b=o?h===o:!0,v=isFinite(l)?s.price<=l:!0;return f&&b&&v}),[a,o,l,t]);return e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-4xl",children:"Shop Jerseys"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Find your teamâ€™s colors with pro-grade quality."})]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[d.length," results"]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(B,{})}),i&&e.jsxs("div",{className:"mt-4 text-sm text-red-600",children:["Failed to load live products: ",i]}),e.jsxs("div",{className:"mt-6 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[x&&!c&&Array.from({length:8}).map((s,h)=>e.jsx("div",{className:"h-72 rounded-2xl bg-slate-200 dark:bg-slate-800 animate-pulse"},h)),d.map(s=>e.jsx(L,{product:s},s.id))]})]})}export{W as default};
